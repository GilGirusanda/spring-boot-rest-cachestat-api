# Додаткова інформація
Запуск проекту здійснюється через команду `.\mvnw spring-boot:run` через build-tool Maven.

Важливо! Перед запуском вказати змінні оточення такі, як:
* *JWT_SECRET* - ключ довжиною не менше 256 біт, наприклад: `3cfa76ef14937c1c0ea519f8fc057a80fcd04a7420f8e8bcd0a7567c272e007b`

* *JSON_PATH* - шлях до файлу з даними, наприклад: `E:/Java Tech Task/test_report.json`

Для роботи з POSTMAN, використовуйте файл `AMAZON_STAT.postman_collection.json`.

Для пришвидшення оновлення всієї статистики через певні проміжки часу із файлу, у демонстраційному відео значення було змінено з 5хв на 2хв. Змінюйте для зручності у класі `ReportController`.

- MongoDB: `mongodb://localhost:27017/mydb`
- Redis: `localhost:6379`

---
# Про Проєкт

**CacheStat** - це Spring Boot веб-застосунок для роботи зі звітами про продажі та трафік.

## Основні функції
1. **Отримання статистики**:
   - За датами: `GET /api/statistics/date`.
   - За ASIN: `POST /api/statistics/asin`.
   - Всі дані: `GET /api/statistics/all`.
   - Використовуються **кешування** (Redis) для покращення продуктивності.

2. **Оновлення даних**:
   - Дані автоматично оновлюються кожні 5 хвилин із JSON-файлу через метод `updateStatisticsFromJson()`: `POST /api/statistics/update`.

3. **Моделі даних**:
   - Складні моделі включають:
     - **Продажі**: дані про одиниці, доходи.
     - **Трафік**: дані про перегляди сторінок.
   - Параметри:
     - Звітність за датами.
     - Звітність за ASIN.

4. **База даних**:
   - **MongoDB** для зберігання даних.
   - Використовуються спеціальні Mongo-запити для:
     - Фільтрації за діапазоном дат.
     - Фільтрації за списком ASIN.

5. **Безпека та кешування**:
   - Аутентифікація за допомогою **JWT-токенів**.
   - Кешування запитів за допомогою **Redis**.

---
# Завдання
Технічне завдання для розробника Java

Опис проекту:
Розробити Spring Boot RESTful API який буде оновлювати статистику в БД та кешувати відповіді через певні проміжки часу (наприклад, кожні 5 хвилин).

Вимоги до проекту:
- база даних: MongoDB
- авторизація: Spring Security (JWT will be a plus)
- кешування: Redis

Для ініціалізації бази даних початковими даними - використати файл "test_report.json". (це статичний файл, який просто оновлюється)
Зберігати потрібно всю статистику.
Всі атрибути можна переглянути в документації (https://developer-docs.amazon.com/sp-api/docs/report-type-values-analytics#sales-and-traffic-business-report).

Основні функції:
1) Реєстрація нового користувача [-DONE-]
2) Авторизація користувача [-DONE-]
3) Вивід статистики по вказаній даті (або проміжку дат) + кешування відповіді [-DONE-]
4) Вивід статистики по вказаному ASIN (або списку ASINs) + кешування відповіді [-DONE-]
5) Вивід сумарної статистики по всім датам + кешування відповіді [-DONE-]
6) Вивід сумарної статистики по всім ASIN + кешування відповіді [-DONE-]
7) Оновлення всієї статистики через певні проміжки часу із файлу "test_report.json" (проміжок задаєте самі; при зміні певних даних в файлі - в БД відповідні дані мають оновитися) [-DONE-]

* всі функції, окрім реєстрації та авторизації, доступні тільки для авторизованих користувачів

Виконане тестове завдання завантажити на GitHub репозиторій, записати відео роботи застосунка, та надіслати в Телеграм https://t.me/agency_amazon (до повідомлення прикріпити CV)

Час на виконання: 2 дні
Швидкість виконання та якість коду впливає на фінальне рішення
